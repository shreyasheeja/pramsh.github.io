@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap');

/* --------- Theme --------- */
:root{
  --bg-dim: rgba(24,17,6,.55);         /* dark overlay over background */
  --cream: #fff8e8;
  --cream-2: #f8f1df;
  --ink: #4b3f2c;
  --gold: #b78b2d; /* restored golden accent for text/buttons */
  --soft-gold: #e7d3a2;
  --ring: #d98aa6;
  --radius: 22px;
  --shadow: 0 10px 30px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
  font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
  font-size:16px; line-height:1.6;
  min-height:100vh;
  /* explicit background properties to ensure consistent behavior across devices */
  background-image: linear-gradient(var(--bg-dim), var(--bg-dim)), url("background2.jpg");
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center center;
  /* use scroll by default to avoid mobile rendering issues */
  background-attachment: scroll;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
  background-color: var(--cream-2);
}

/* Keep fixed attachment on larger screens for desktop parallax */
@media (min-width: 801px) {
  body { background-attachment: fixed; }
}

@media (max-width: 800px) {
  /* ensure background behaves correctly on mobile devices */
  body {
    background-attachment: scroll !important;
    background-position: center center !important;
    background-size: cover !important;
  }
}

/* --------- Header / Nav / Hero --------- */
.site-header{position:relative}
.nav{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; justify-content:space-between;
  padding:.8rem 1rem; backdrop-filter:saturate(120%) blur(6px);
  background:rgba(255,248,232,.45); border-bottom:1px solid rgba(215,190,130,.35);
}
.brand{
  font-weight:700; letter-spacing:.08em; text-decoration:none;
  color:var(--gold); border:2px solid var(--gold);
  padding:.2rem .55rem; border-radius:999px; background:rgba(255,255,255,.6);
}
.nav-links{display:flex; gap:.9rem}
.nav-links a{
  color:var(--ink); text-decoration:none; padding:.4rem .7rem; border-radius:999px;
}
.nav-links a:hover{background:rgba(255,255,255,.6)}
.nav-toggle{display:none; border:0; background:transparent; font-size:1.35rem}

.hero{
  display:grid; place-items:center;
  min-height:62vh;
  text-align:center; padding:5vh 1rem;
}
.hero-inner{
  background:linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.55));
  border:1px solid rgba(215,190,130,.55);
  border-radius:var(--radius);
  padding:2.2rem 1.6rem; box-shadow:var(--shadow);
  max-width:900px;
}
.title{
  margin:0 0 .25rem; font-size:clamp(2rem, 4vw, 3.2rem);
  letter-spacing:.03em; color:var(--gold);
  font-family: 'Playfair Display', serif;
  font-weight:700;
}
.subtitle{margin:.1rem 0 1rem; opacity:.85}
.date-pill{
  display:inline-block; padding:.45rem .9rem; border-radius:999px;
  background:var(--gold); color:#fff; letter-spacing:.03em;
  box-shadow:0 6px 18px rgba(183,139,45,.28);
}

/* --------- Sections --------- */
.section{padding:60px 1rem}
.section-title{
  text-align:center; margin:0 0 26px; font-size:clamp(1.4rem, 2.6vw, 2rem);
  color:var(--gold); letter-spacing:.02em;
  font-family: 'Playfair Display', serif;
  font-weight:600;
}
.section-card{background:linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,.55))}
.section-cream{background:linear-gradient(180deg, rgba(255,248,232,.9), rgba(255,248,232,.7))}

/* --------- Story --------- */
.story-grid{
  display:grid; gap:18px; max-width:1100px; margin:0 auto;
  grid-template-columns:repeat(3, minmax(0, 1fr));
}
.story-card{
  background:var(--cream); border:1px solid var(--soft-gold);
  border-radius:var(--radius); padding:1.1rem 1.1rem 1.2rem; box-shadow:var(--shadow);
}
.story-card h3{margin:.2rem 0 .4rem}
.story-timeline .timeline{list-style:none; padding:0; margin:.2rem 0 0}
.timeline li{padding:.35rem .2rem; border-left:3px solid var(--ring); margin:.2rem 0 .2rem .4rem}
.timeline li span{font-weight:700; color:var(--gold); margin-right:.5rem}

/* --------- Events --------- */
.events-grid{
  display:grid; grid-template-columns: repeat(4, 1fr);
  gap: 18px; max-width:1200px; margin:0 auto;
}
.event-card{
  background:var(--cream); border:1px dashed var(--soft-gold);
  border-radius:calc(var(--radius) - 6px); padding:1rem; box-shadow:var(--shadow);
  transition:transform .25s ease, box-shadow .25s ease;
}
.event-card:hover{transform:translateY(-4px); box-shadow:0 16px 32px rgba(0,0,0,.12)}
.event-icon {
  width:72px; height:72px; object-fit:cover; border-radius:16px; border:1px solid var(--soft-accent);
  display:block; margin:4px 0 12px;
}
.event-icon-fallback {
  width:72px;
  height:72px;
  display:inline-grid;
  place-items:center;
  border-radius:16px;
  background: linear-gradient(180deg, #fffaf0, #fff4dc);
  border:1px solid #f0e3bb;
  color: #b58b00;
  font-size:22px;
  margin:4px 0 12px;
}
.event-line{margin:.35rem 0}
.event-note{margin:.5rem 0 0; font-style:italic; color:#6b5a3a}

@media (max-width: 1000px) {
  .events-grid { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 520px) {
  .events-grid { grid-template-columns: 1fr; }
}

/* --------- Venue & Stay --------- */
.venue-grid{
  display:grid; gap:18px; max-width:1000px; margin:0 auto;
  grid-template-columns:repeat(2, minmax(0, 1fr));
}
.venue-card{
  background:var(--cream); border:1px solid var(--soft-gold); border-radius:var(--radius);
  padding:1.2rem; box-shadow:var(--shadow);
}
.stay-list{margin:.4rem 0 0 1rem}

/* --------- RSVP --------- */
.rsvp{
  display:grid; gap:14px; max-width:720px; margin:0 auto;
  background:var(--cream); padding:1.2rem; border:1px solid var(--soft-gold); border-radius:var(--radius);
  box-shadow:var(--shadow);
}
.field{display:grid; gap:.35rem}
label{font-weight:600}
input, textarea{
  width:100%; padding:.65rem .8rem; border-radius:12px;
  border:1px solid #d9c89c; background:#fff; color:var(--ink)
}
input:focus, textarea:focus{outline:2px solid rgba(183,139,45,.35)}
.btn{
  display:inline-block; padding:.7rem 1rem; border-radius:999px; border:1px solid var(--gold);
  text-decoration:none; color:var(--ink); background:#fff; transition:all .2s ease;
}
.btn:hover{transform:translateY(-1px); box-shadow:0 8px 18px rgba(0,0,0,.08)}
.btn-gold{background:var(--gold); color:#fff; border-color:transparent}

/* --------- Gallery --------- */
.gallery-grid{
  display:grid; gap:12px; max-width:1100px; margin:0 auto;
  grid-template-columns:repeat(3, minmax(0, 1fr));
}
.ph{aspect-ratio:4/3; border-radius:14px; background:linear-gradient(135deg, #f3ead4, #efe2c1); border:1px solid var(--soft-gold)}

/* --------- Footer --------- */
.footer{
  padding:4rem 1rem; background:var(--ink); color:#fff;
  display:grid; gap:2rem; grid-template-columns:repeat(3, minmax(0, 1fr));
}
.footer h3{
  font-size:1.4rem; margin:0 0 1rem;
  position:relative; display:inline-block;
}
.footer h3:after{
  content:""; position:absolute; width:100%; height:2px;
  bottom:-4px; left:0;
  background:linear-gradient(90deg, transparent, var(--gold), transparent);
}
.footer a{
  color:var(--soft-gold); text-decoration:none;
  transition:color .2s ease;
}
.footer a:hover{color:#fff}
.socials{
  display:flex; gap:1rem;
}
.copyright{
  grid-column:1 / -1; text-align:center; font-size:.9rem;
  color:rgba(255,255,255,.7);
}

/* --------- Misc --------- */
.hidden{display:none !important}
.show{display:block !important}
.loading{
  position:fixed; inset:0; z-index:30;
  display:flex; align-items:center; justify-content:center;
  background:rgba(255,255,255,.9);
  backdrop-filter:blur(8px);
}
.loading img{width:120px}
.error-message{
  color:red; font-weight:500; text-align:center;
  margin:.8rem 0 0;
}
.success-message{
  color:green; font-weight:500; text-align:center;
  margin:.8rem 0 0;
}

/* --- Responsive / Mobile adjustments --- */
/* Mobile nav: show toggle and collapse links into a dropdown */
@media (max-width: 800px) {
  .nav-toggle { display: block; }
  .nav-links {
    display: none; /* hidden until opened */
    position: absolute;
    top: 56px;
    right: 12px;
    background: rgba(255,255,255,0.95);
    border-radius: 12px;
    padding: 8px;
    flex-direction: column;
    gap: 6px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    border: 1px solid rgba(0,0,0,0.03);
    min-width: 160px;
    z-index: 40;
  }
  .nav-links.open { display: flex; }
  .nav-links a { padding: 8px 12px; width:100%; }
}

/* ensure background behaves correctly on mobile devices */
@media (max-width: 800px) {
  body {
    background-attachment: scroll;
    background-position: center top;
    background-size: cover;
  }
}

/* Hero scaling for smaller screens */
@media (max-width: 600px) {
  .hero { min-height: 48vh; padding: 4vh 0.6rem; }
  .hero-inner { padding: 1rem 0.9rem; max-width: 95%; }
  .title { font-size: clamp(1.6rem, 7vw, 2.4rem); }
  .subtitle { font-size: 14px; }
  .date-pill { padding: .35rem .6rem; }
}

/* Story grid responsiveness */
@media (max-width: 900px) {
  .story-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 620px) {
  .story-grid { grid-template-columns: 1fr; }
  .story-card { padding: 0.95rem; }
}

/* Events grid smaller breakpoints */
@media (max-width: 1000px) {
  .events-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 480px) {
  .events-grid { grid-template-columns: 1fr; }
  .event-card { padding: 0.9rem; }
  .event-icon { width:56px; height:56px; }
  .event-card h3 { font-size: 1.02rem; }
}

/* Venue & gallery stack */
@media (max-width: 760px) {
  .venue-grid { grid-template-columns: 1fr; }
}
@media (max-width: 900px) {
  .gallery-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 520px) {
  .gallery-grid { grid-template-columns: 1fr; }
}

/* Buttons and utility adjustments on small screens */
@media (max-width: 520px) {
  .btn, .btn-gold { display:block; width:100%; text-align:center; }
  .section { padding: 36px 0.6rem; }
}

/* Improve readability on very small screens */
@media (max-width: 360px) {
  body { font-size: 15px; }
  .title { font-size: 1.5rem; }
}
